!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():n()}(this,function(){return angular.module("fnSimpleDragDrop",[]).directive("fnDragOver",function(){"use strict";return{restrict:"A",require:"^fnDrop",link:function(e,n,t,r){var a=n[0].addEventListener.bind(n[0]);a("dragover",function(){r.over(e.$eval(t.fnDragOver))}),a("dragleave",function(){r.leave(e.$eval(t.fnDragOver))})}}}).directive("fnDrag",["$rootScope",function(e){"use strict";function n(e){return!1}return function(t,r,a){function o(n){u.data=t.$eval(a.fnDrag),u.source=t.$eval(a.fnSource),n.dataTransfer&&(n.dataTransfer.effectAllowed="move"),e.$emit("fn-dragstart",u,n)}function f(){e.$emit("fn-dragend",u)}r.attr("draggable",!0);var i=r[0].addEventListener.bind(r[0]),u={element:r};n(r[0])?(i("dragstart",o),i("dragend",f)):(i("touchstart",o),i("touchend",f))}}]).directive("fnDrop",["$rootScope",function(e){"use strict";var n,t=null;return e.$on("fn-dragstart",function(e,t){n=t,angular.element(t.element).addClass("fn-dragging")}),e.$on("fn-dragend",function(e,t){n=null,angular.element(t.element).removeClass("fn-dragging")}),{restrict:"A",link:function(e,r,a,o){var f=0,i=r[0].addEventListener.bind(r[0]);i("dragover",function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="move"}),i("dragenter",function(e){f++,e.stopPropagation(),e.preventDefault(),r.addClass("fn-over")}),i("dragleave",function(e){f--,e.stopPropagation(),e.preventDefault(),0===f&&r.removeClass("fn-over")}),i("drop",function(o){f=0,o.preventDefault(),r.removeClass("fn-over"),e.$apply(function(){e.$eval(a.fnDrop,{$over:t,$data:n.data,$source:n.source,$target:e.$eval(a.fnTarget)})})})},controller:["$scope",function(e){this.over=function(e){t=e},this.leave=function(e){t=null}}]}}])});