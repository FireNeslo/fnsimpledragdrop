!function(e,n){"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():n()}(this,function(){return angular.module("fnSimpleDragDrop",[]).directive("fnDragOver",function(){"use strict";return{restrict:"A",require:"^fnDrop",link:function(e,n,r,t){var a=n[0].addEventListener.bind(n[0]);a("dragover",function(){t.over(e[r.fnDragOver]),e.$apply()}),a("dragleave",function(){t.leave(e[r.fnDragOver]),e.$apply()})}}}).directive("fnDrag",["$rootScope",function(e){"use strict";return{restrict:"A",scope:{onDrag:"&",fnDrag:"="},link:function(n,r){function t(t){t.dataTransfer.effectAllowed="move",t.dataTransfer.setDragImage(r[0],0,0),n.onDrag({dragEl:r,data:n.draggable}),e.$emit("fn-dragstart",f)}function a(){e.$emit("fn-dragend",f)}r.attr("draggable",!0);var o=r[0].addEventListener.bind(r[0]),f={element:r,data:n.fnDrag};n.$watch("fnDrag",function(e){f.data=e}),o("dragstart",t,!1),o("dragend",a,!1)}}}]).directive("fnDrop",["$rootScope",function(e){"use strict";var n;return e.$on("fn-dragstart",function(e,r){n=r,angular.element(r.element).addClass("fn-dragging")}),e.$on("fn-dragend",function(e,r){n=null,angular.element(r.element).removeClass("fn-dragging")}),{restrict:"A",scope:{fnDrop:"&"},link:function(e,r){var t=r[0].addEventListener.bind(r[0]);t("dragover",function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},!1),t("dragenter",function(){r.addClass("fn-over")},!1),t("dragleave",function(){r.removeClass("fn-over")},!1),t("drop",function(t){t.preventDefault(),e.fnDrop({over:e.over,data:n.data}),r.removeClass("fn-over"),e.$apply()},!1)},controller:["$scope",function(e){this.over=function(n){e.over=n},this.leave=function(){e.over=void 0}}]}}])});